#!/bin/bash

# ============================================
# 911Calling ì•± ì‹¤í–‰ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
# ============================================
# 
# ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ”:
# 1. ë¹Œë“œ ë””ë ‰í† ë¦¬ ìƒì„±
# 2. ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„± (Flutterê°€ APKë¥¼ ì°¾ì„ ìˆ˜ ìˆë„ë¡)
# 3. Flutter ì•± ì‹¤í–‰
#
# ì‚¬ìš©ë²•: ./run.sh
# ============================================

echo "ğŸš€ 911Calling ì•± ë¹Œë“œ ë° ì‹¤í–‰ ì‹œì‘..."
echo ""

# ì‹¬ë³¼ë¦­ ë§í¬ ë””ë ‰í† ë¦¬ ìƒì„±
echo "ğŸ“ ë¹Œë“œ ë””ë ‰í† ë¦¬ ìƒì„± ì¤‘..."
mkdir -p build/app/outputs/flutter-apk

# ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„± (ì´ë¯¸ ìˆìœ¼ë©´ ë®ì–´ì“°ê¸°)
echo "ğŸ”— ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„± ì¤‘..."
ln -sf "$(pwd)/android/app/build/outputs/flutter-apk/app-debug.apk" build/app/outputs/flutter-apk/app-debug.apk

echo "âœ… ì¤€ë¹„ ì™„ë£Œ!"
echo ""

# Flutter ì‹¤í–‰
echo "â–¶ï¸  Flutter ì•± ì‹¤í–‰ ì¤‘..."
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
flutter run

echo ""
echo "âœ… ì™„ë£Œ!"
